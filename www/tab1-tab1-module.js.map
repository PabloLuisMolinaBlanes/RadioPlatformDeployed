{"version":3,"sources":["./src/app/tab1/tab1.page.html","./src/app/tab1/tab1.page.ts","./src/app/tab1/tab1-routing.module.ts","./src/app/tab1/tab1.page.scss","./src/app/tab1/tab1.module.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Antenas\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Antenas</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-item>\\n    <ion-select [(ngModel)]=\\\"name\\\" (ionChange)=\\\"updateArray()\\\" placeholder=\\\"Nombre\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let antenna of antennaeTotal\\\" [value]=\\\"antenna.name\\\">{{antenna.name}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item>\\n    <ion-select placeholder=\\\"Marca\\\" [(ngModel)]=\\\"brand\\\" (ionChange)=\\\"updateArray()\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let antenna of antennaeTotal\\\" [value]=\\\"antenna.brand\\\">{{antenna.brand}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item>\\n    <ion-select placeholder=\\\"Tipo\\\" [(ngModel)]=\\\"type\\\" (ionChange)=\\\"updateArray()\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let antenna of antennaeTotal\\\" [value]=\\\"antenna.type\\\">{{antenna.type}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item>\\n    <ion-select placeholder=\\\"Altura\\\" [(ngModel)]=\\\"height\\\" (ionChange)=\\\"updateArray()\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let antenna of antennaeTotal\\\" [value]=\\\"antenna.height\\\">{{antenna.height}}\\n      </ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <app-antennaitem [antennae]=\\\"antennaeVisible\\\" [favouriteAntenna]=\\\"favouriteAntenna\\\" [isadmin]=\\\"isadmin\\\">\\n  </app-antennaitem>\\n  <ion-button *ngIf=\\\"name === '' && brand === '' && type === '' && height === ''\\\" (click)=\\\"presentModal()\\\">Add new</ion-button>\\n  <ion-button (click)=\\\"presentCalculator()\\\">Price calculator</ion-button>\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\nimport { DataSnapshot } from '@angular/fire/database/interfaces';\nimport * as firebase from 'firebase';\nimport { Antenna } from '../antenna';\nimport { AngularFireAuth } from '../../../node_modules/@angular/fire/auth'\nimport {ModalController} from '@ionic/angular'\nimport {FirebaseObtainerService} from '../firebase-obtainer.service'\nimport {AngularFireDatabase} from '../../../node_modules/@angular/fire/database'\nimport {AntennaCRUDPagePage} from '../antenna-crudpage/antenna-crudpage.page'\nimport { PricecalculatorPage } from '../pricecalculator/pricecalculator.page';\nimport {Storage} from '@ionic/storage'\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page implements OnInit{\nantennaeVisible: Antenna[] = [];\nantennaeTotal: Antenna[] = [];\nallAntennae: Promise<DataSnapshot>;\nname: string = \"\";\nbrand: string = \"\";\ntype: string = \"\";\nheight: string = \"\";\nprice: number;\nfavouriteAntenna: string;\nisadmin: boolean = false;\n  constructor(private firebaseObtainerService: FirebaseObtainerService,public modalController: ModalController, public storage: Storage,public afDatabase: AngularFireDatabase, public auth: AngularFireAuth) {}\n  async ngOnInit() {\n    this.antennaeVisible = this.antennaeTotal;\n    this.auth.currentUser.then(user => {\n      this.afDatabase.database.ref(\"users/\"+user.uid+\"/antennae\").on(\"child_added\", function (childsnapshot) {\n        this.antennaeTotal.push(childsnapshot.val() as unknown as Antenna);\n        this.antennaeVisible = this.antennaeTotal;\n        this.storage.set('antennae', this.antennaeTotal);\n      }, () => {console.log(\"error here\")}, this);\n      this.afDatabase.database.ref(\"users/\"+user.uid+\"/antennae\").on(\"child_changed\", function (childsnapshot) {\n        var child = childsnapshot.val() as unknown as Antenna;\n        console.log(\"detected change\");\n        console.log(this.antennaeVisible);\n        this.antennaeVisible.forEach(ant => {\n          if (child.id === ant.id || ant.id === \"placeholder\") {\n            console.log(ant);\n            console.log(\"found antenna\");\n            ant.name = child.name;\n            ant.type = child.type;\n            ant.height = child.height;\n            ant.brand = child.brand;\n            ant.range = child.range;\n            ant.price = child.price;\n            ant.id = child.id;\n          }\n        });\n        this.antennaeTotal.forEach(ant => {\n          if (child.id === ant.id || ant.id === \"placeholder\") {\n            console.log(ant);\n            console.log(\"found antenna\");\n            ant.name = child.name;\n            ant.type = child.type;\n            ant.height = child.height;\n            ant.brand = child.brand;\n            ant.range = child.range;\n            ant.price = child.price;\n            ant.id = child.id;\n          }\n        });\n        this.storage.set('antennae', this.antennaeTotal);\n      }, () => {console.log(\"error here\")}, this);\n      this.afDatabase.database.ref(\"users/\"+user.uid+\"/antennae\").on(\"child_removed\", function (childsnapshot) {\n        var child = childsnapshot.val() as unknown as Antenna\n        console.log(\"detected deleted\");\n        this.antennaeVisible.forEach(ant => {\n          if (child.id === ant.id) {\n            console.log(\"found deleted\");\n            this.antennaeVisible = this.antennaeVisible.filter(antenna => antenna !== ant);\n          }\n        });\n        this.antennaeTotal.forEach(ant => {\n          if (child.id === ant.id) {\n            console.log(\"found deleted\");\n            this.antennaeTotal = this.antennaeTotal.filter(antenna => antenna !== ant);\n          }\n        });\n        this.storage.set('antennae', this.antennaeTotal);\n      }, () => {console.log(\"error here\")}, this);\n      this.afDatabase.database.ref(\"users/\"+user.uid+\"/favouriteAntenna\").on(\"value\", function (childsnapshot) {\n          this.favouriteAntenna = childsnapshot.val() as unknown as string;\n          console.log(\"done\");\n      }, () => {console.log(\"error here\")}, this)\n        this.antennaeTotal = [];\n    });\n    await this.storage.create();\n  }\n  async presentModal(){\n    const modal = await this.modalController.create({\n      component:AntennaCRUDPagePage,\n      cssClass: 'placeholder'\n    });\n    return await modal.present();\n  }\n  async presentCalculator(){\n    const modal = await this.modalController.create({\n      component:PricecalculatorPage,\n      cssClass: 'placeholder',\n    });\n    return await modal.present();\n  }\n  updateArray() {\n    this.antennaeVisible = this.antennaeTotal.filter(this.filterAntennae, this);\n  }\n  filterAntennae = function(antenna: Antenna) {\n    if ((this.name === \"\" || antenna.name === this.name) && (this.brand === \"\" || antenna.brand === this.brand) &&  (this.type === \"\" || antenna.type === this.type) && (this.height === \"\" || antenna.height === this.height)) {\n      return true;\n    } else {\n      return false;\n  }\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab1Page } from './tab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab1Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWIxLnBhZ2Uuc2NzcyJ9 */\";","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport {AntennaitemComponent} from '../antennaitem/antennaitem.component';\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab1PageRoutingModule,\n  ],\n  declarations: [Tab1Page, AntennaitemComponent]\n})\nexport class Tab1PageModule {}\n"],"sourceRoot":"webpack:///"}