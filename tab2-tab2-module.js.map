{"version":3,"sources":["./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.page.html"],"names":[],"mappings":"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","file":"tab2-tab2-module.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWIyLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { RadioSet } from '../radioset';\nimport {FirebaseObtainerService} from '../firebase-obtainer.service'\nimport { AngularFireAuth } from '../../../node_modules/@angular/fire/auth'\nimport { DataSnapshot } from '@angular/fire/database/interfaces';\nimport { ModalController } from '@ionic/angular';\nimport {AngularFireDatabase} from '../../../node_modules/@angular/fire/database'\nimport {RadioSetCRUDPagePage} from '../radio-set-crudpage/radio-set-crudpage.page'\nimport { PricecalculatorPage } from '../pricecalculator/pricecalculator.page';\nimport {Storage} from '@ionic/storage'\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit{\nradiosetsVisible: RadioSet[] = [];\nradiosetsTotal: RadioSet[] = [];\nallEquipment: Promise<DataSnapshot>\nfavouriteRadioSet: string;\namplitude: string = \"\";\nname: string = \"\";\ntype: string = \"\";\nbrand: string = \"\";\nisadmin: boolean = false;\n  constructor(private firebaseObtainerService: FirebaseObtainerService, public modalController: ModalController, public storage: Storage,public afDatabase: AngularFireDatabase, public auth: AngularFireAuth) {}\n  async ngOnInit() {\n    this.radiosetsVisible = this.radiosetsTotal;\n    this.auth.currentUser.then(user => {\n        this.afDatabase.database.ref(\"users/\"+user.uid+\"/equipment\").on(\"child_added\", function (childsnapshot) {\n          this.radiosetsTotal.push(childsnapshot.val() as unknown as RadioSet);\n          this.radiosetsVisible = this.radiosetsTotal;\n          this.storage.set('equipment', this.radiosetsVisible);\n        }, () => {console.log(\"error here\")}, this);\n        this.afDatabase.database.ref(\"users/\"+user.uid+\"/equipment\").on(\"child_changed\", function (childsnapshot) {\n          var child = childsnapshot.val() as unknown as RadioSet;\n          console.log(\"detected change\");\n          this.radiosetsVisible.forEach(ant => {\n            console.log(ant);\n            if (child.id === ant.id || ant.id === \"placeholder\") {\n              console.log(\"found radioset\");\n              ant.name = child.name;\n              ant.type = child.type;\n              ant.brand = child.brand;\n              ant.amplitude = child.amplitude;\n              ant.price = child.price;\n              ant.id = child.id;\n            }\n          });\n          this.radiosetsTotal = this.radiosetsVisible;\n          this.storage.set('antennae', this.radiosetsTotal);\n        }, () => {console.log(\"error here\")}, this);\n        this.afDatabase.database.ref(\"users/\"+user.uid+\"/equipment\").on(\"child_removed\", function (childsnapshot) {\n          var child = childsnapshot.val() as unknown as RadioSet\n          console.log(\"detected deleted\");\n          this.radiosetsVisible.forEach(ant => {\n            if (child.id === ant.id) {\n              console.log(\"found deleted radioset\");\n              this.radiosetsVisible = this.radiosetsVisible.filter(antenna => antenna !== ant);\n            }\n          });\n          this.radiosetsTotal = this.radiosetsVisible;\n          this.storage.set('antennae', this.radiosetsTotal);\n        }, () => {console.log(\"error here\")}, this);\n        this.afDatabase.database.ref(\"users/\"+user.uid+\"/favouriteRadioSet\").on(\"value\", function (childsnapshot) {\n          this.favouriteRadioSet = childsnapshot.val() as unknown as string;\n          console.log(\"done\");\n      }, () => {console.log(\"error here\")}, this)\n    });\n   await this.storage.create();\n  }\n  async presentModal(){\n    const modal = await this.modalController.create({\n      component:RadioSetCRUDPagePage,\n      cssClass: 'placeholder'\n    });\n    return await modal.present();\n}\nasync presentCalculator(){\n  const modal = await this.modalController.create({\n    component:PricecalculatorPage,\n    cssClass: 'placeholder',\n  });\n  return await modal.present();\n}\nupdateArray() {\n  this.radiosetsVisible = this.radiosetsTotal.filter(this.filterAntennae, this);\n}\nfilterAntennae = function(radioset: RadioSet) {\n  if ((this.name === \"\" || radioset.name === this.name) && (this.brand === \"\" || radioset.brand === this.brand) &&  (this.type === \"\" || radioset.type === this.type) && (this.amplitude === \"\" || radioset.amplitude === this.amplitude)) {\n    return true;\n  } else {\n    return false;\n}\n}\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { RadiosetitemComponent } from '../radiosetitem/radiosetitem.component';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule,\n  ],\n  declarations: [Tab2Page, RadiosetitemComponent]\n})\nexport class Tab2PageModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Radios\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Equipamiento</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-item>\\n    <ion-select [(ngModel)]=\\\"name\\\" (ionChange)=\\\"updateArray()\\\" placeholder=\\\"Nombre\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let radioset of radiosetsTotal\\\" [value]=\\\"radioset.name\\\">{{radioset.name}}</ion-select-option>\\n    </ion-select>\\n    </ion-item>\\n  <ion-item>\\n    <ion-select [(ngModel)]=\\\"brand\\\" (ionChange)=\\\"updateArray()\\\" placeholder=\\\"Marca\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let radioset of radiosetsTotal\\\" [value]=\\\"radioset.brand\\\">{{radioset.brand}}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item>\\n    <ion-select [(ngModel)]=\\\"type\\\" (ionChange)=\\\"updateArray()\\\" placeholder=\\\"Tipo\\\">\\n      <ion-select-option value=\\\"\\\">All</ion-select-option>\\n      <ion-select-option *ngFor=\\\"let radioset of radiosetsTotal\\\" [value]=\\\"radioset.type\\\">{{radioset.type}}</ion-select-option>\\n    </ion-select></ion-item>\\n      <ion-item>\\n        <ion-select [(ngModel)]=\\\"amplitude\\\" (ionChange)=\\\"updateArray()\\\"  placeholder=\\\"Amplitud\\\">\\n          <ion-select-option value=\\\"\\\">All</ion-select-option>\\n          <ion-select-option *ngFor=\\\"let radioset of radiosetsTotal\\\" [value]=\\\"radioset.amplitude\\\">{{radioset.amplitude}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n           <app-radiosetitem [equipment]=\\\"radiosetsVisible\\\" [favouriteRadioSet]=\\\"favouriteRadioSet\\\" [isadmin]=\\\"isadmin\\\"></app-radiosetitem>\\n        <ion-button (click)=\\\"presentModal()\\\">Add new</ion-button>\\n        <ion-button (click)=\\\"presentCalculator()\\\">Price calculator</ion-button>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}